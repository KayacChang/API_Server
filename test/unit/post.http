@hostname = 34.94.53.107
@port = 9000
@host = {{hostname}}:{{port}}

### Create Admin
@username = "kayac"
@password = "Test123456."
@organization = "sunny"
@secret = "my_secret_key"
@email = "egg734631@gmail.com"

POST http://{{host}}/v1/admins
Content-Type: application/json

{
    "secret": {{secret}},
    "email": {{email}},
    "username": {{username}},
    "password": {{password}},
    "organization": {{organization}}
}

### Create Admin Token
@password = "Test123456."
@secret = "my_secret_key"
@email = "egg734631@gmail.com"
# @name adminToken
POST http://{{host}}/v1/admins/tokens
Content-Type: application/json

{
    "secret": {{secret}},
    "email": {{email}},
    "password": {{password}}
}

###
@authToken = {{adminToken.response.body.$.data.access_token}}

### Find Game
@gameurl = catpunch

GET http://{{host}}/v1/games/{{gameurl}}
Authorization: Bearer {{authToken}}

### Get Game Links
GET http://{{host}}/v1/games

### Create Game
@gamename = "sushi"
@href = "https://sushi"
@category = "slot"
POST http://{{host}}/v1/games
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
    "name": {{gamename}},
    "href": {{href}},
    "category": {{category}}
}

### Update Game
# @gamename = "catpunch"
# @href = "https://catpunch"
@category = "slot"
PUT http://{{host}}/v1/games/{{gameurl}}
Content-Type: application/json
Authorization: Bearer {{authToken}}

{
    "name": {{gamename}},
    "href": {{href}},
    "category": {{category}}
}

### Token
@session = abcd1234
@game = "catpunch"
@username = "kayac"
POST http://{{host}}/v1/tokens
Content-Type: application/json
Session: {{session}}

{
    "game": {{game}},
    "username": {{username}}
}